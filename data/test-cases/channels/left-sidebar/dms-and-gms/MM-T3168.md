---
# (Required) Ensure all values are filled up
name: "DM Category context menu (sort and limit)"
status: Active
priority: Normal
folder: DMs and GMs
authors: ""
team_ownership: 
- Channels

# (Optional) Test type and tools
cypress: Evaluating
detox: null
mmctl: null
playwright: null
rainforest: 
- Evaluating
manual_test_environments: 
- Desktop
- Webapp
- Cloud

# (Optional)
component: null
priority_p1_to_p4: P3 - Deep Functions (Do extensive scenarios work?)
location: Experimental Sidebar
tags: 
- Never tested
labels: 
- Sidebar
- fix-versions-not-empty-2022cleanup

# Do not change
id: 6377922
key: MM-T3168
folder_path: channels/left-sidebar/dms-and-gms
created_on: "2020-07-29T19:36:04Z"
last_updated: ""
case_hashed: 09ac60f0e971d4a2965b0ea2bf02e11c8342e6f9d917acaba43631b7acbaaeca49d95b22dec689a05082f00f44fb2514
steps_hashed: 785703f27135a19a240ae27cf3156e940787c783f2d582512a557afaf33f7f58af769a3f8d51c9f42600debf86817fcd
---

## MM-T3168: DM Category context menu (sort and limit)

---

**Step 1**

DM Category context menu\
–––––––––––––––––––––––––

1. Open 40+ DMs/GMs on the sidebar

   1. Verify only 20 are shown by default, sorted by recency 

2. Click on the 3-dot DM category menu 

   1. Verify menu opens, with 3 options: Sort, Show and Open a Direct Message

3. Change the number of DMs to show "All Direct Messages"

   1. Verify all open DMs/GMs from step 1. are shown

4. Open few DMs/GMs in the center channel to view only

5. Change the sort order to Alphabetical and choose 15 as the number to show

   1. Verify only 15 DMs/GMs are shown, recently viewed in step 4 should also be included on the short list shown

6. Open few DMs/GMs and send a message in each 

7. Change the sort order to Recent Activity and choose 10 number to show

   1. Verify only 10 DMs/GMs are shown, recently active in step 6 should also be included on the short list shown

8. Open a new DM that is not already on the sidebar

   1. Verify that the new open DM is shown on the sidebar and the oldest viewed/active on the sidebar is bumped off the list

9. Ensure Group Unreads separately is set to OFF in account settings and have another user send you a DM, one that is not currently open on the sidebar

   1. Verify the new received DM is shown on the sidebar and the oldest viewed/active on the sidebar is bumped off the list

10. While showing only 10 DMs/GMs on the sidebar with either alpha or recent sort, receive more than 10 DMs/GMs (can be existing or new)

    1. Verify all the DMs/GMs with unreads are show in the sidebar regardless of the user selected number to show 

Cypress Note:  This can be broken into more steps if necessary. QA will adjust the steps after implementation and match the steps during e2e PR review.

**Test Data**

DM context menu sample\
![](https://smartbear-tm4j-prod-us-west-2-attachment-rich-text.s3.us-west-2.amazonaws.com/embedded-f3277290f945470c4add5d21ef3dc7ca7b74388fc7152bfb6b99ae58c66a95a8-1613058047610-Screen+Shot+2021-02-11+at+10.40.29+AM.png) **Tip**: Right-click any image to view a larger version in a new tab

**Expected**

Note: Last viewed time is used as main criteria in determining which DMs are displayed in both Alphabetical and Recent Activity sort order

- User can set various limits around sorting and displaying DMs/GMs on the sidebar
- Received unread DMs/GMs are always shown on the sidebar, regardless of the user configuration
