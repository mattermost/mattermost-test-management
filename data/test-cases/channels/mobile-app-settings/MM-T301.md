---
# (Required) Ensure all values are filled up
name: "Changing the timezone in app settings updates post timestamps and date separators"
status: Active
priority: Normal
folder: Mobile App Settings
authors: ""
team_ownership: 
- Channels

# (Optional) Test type and tools
cypress: in Production
detox: null
mmctl: null
playwright: null
rainforest: 
- N/A
manual_test_environments: 
- Mobile

# (Optional)
component: null
priority_p1_to_p4: P3 - Deep Functions (Do extensive scenarios work?)
location: Account Settings
tags: []
labels: 
- TM4J-Key-Mapped-In-Cypress-Release
- 1.42-p123
- account-settings
- cy-prod
- fix-versions-not-empty-2022cleanup

# Do not change
id: 3808155
key: MM-T301
folder_path: channels/mobile-app-settings
created_on: "2019-12-30T23:49:20Z"
last_updated: "2022-09-09T20:29:18Z"
case_hashed: f0652fc10c2d515c11df8292151fd5b4add52f8d6d5ef78546c5f42faf190c0e8373dc5f245c7e86e5647e9f59b83698
steps_hashed: f0641aa66637e6260f52e4280f7f62608a61e048e7d7473054c05c219cd53e72f9674cda1c1106506eac1d31e3f0f10f
---

## MM-T301: Changing the timezone in app settings updates post timestamps and date separators

**Precondition**

# Run these tests on <https://community-release.mattermost.com/>

---

**Step 1**

Changing the timezone in app settings updates post timestamps and date separators\
–––––––––––––––––––––––––

1. Log in to a server with experimental Timezone feature set to "True" in the system console (e.g. community-release)
2. Click on the three-dot menu and go to Settings ➜ Display ➜ Timezone
3. Disable "Set automatically"
4. Click "Change timezone" and select a timezone different from your actual one
5. Go back to a channel

_Related ticket(s):_

(**Story**) [Finish changing date separators to read Today/Yesterday — MM-18466](https://mattermost.atlassian.net/browse/MM-18466)

**Expected**

- Post timestamps and post date separators are updated
- The date separators between posts (web and mobile) and the floating post timestamp in mobile web view should be updated to read Today or Yesterday for posts made on those days.

---

**Step 2**

1. Enable "Set automatically" again and verify in channel
2. Log out and log back into a different server and verify timezone is set automatically
3. Visit a channel with previous dates (2 or more days ago)
4. Disable Automatic Timezone and set timezone **manually** to NZ-Chat

_Related ticket(s):_

[RN: Timezone setting not updating when changing back to set automatically — MM-18313](https://mattermost.atlassian.net/browse/MM-18313)\
[Web: Date separator displaying numeric value — MM-22075](https://mattermost.atlassian.net/browse/MM-22075)

**Expected**

After #2,\\

- Timezone should be set automatically to users location

After #4,\\

- Should display date in 'ddd, MMM D, YYYY' format
