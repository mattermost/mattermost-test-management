{
  "id": 9241172,
  "key": "MM-T3866",
  "name": "ğŸš« ECS â€”Â Attempt a purchase or renewal with a restricted person, company or address",
  "createdOn": "2021-03-01T14:50:47Z",
  "objective": "The Customer Portal built in Export Compliance Screening (ECS) identifies entities sanctioned by the United States government from purchasing Mattermost.<br>Without it in place Mattermost could be fined for each embargoed entity who makes a purchase and would be prevented from selling to the U.S. government.<br>These tests are designed to simulate purchase attempts made by individuals and companies owned or controlled by, or acting for or on behalf of, targeted countries.",
  "precondition": "In order to test you'll need login credentials for the Descartes Visual Compliance tool as well as Stripe to view data created in the test environment.",
  "estimatedTime": null,
  "labels": [],
  "component": null,
  "priority": { "id": 1251319, "name": "Smoke test" },
  "status": { "id": 890281, "name": "Active" },
  "folder": {
    "id": 1262218,
    "name": "ğŸš« Export Compliance",
    "parentId": 992544,
    "fullNames": ["Cloud", "Customer Portal", "ğŸš« Export Compliance"],
    "fullPath": "cloud/customer-portal/-export-compliance"
  },
  "customFields": {
    "Playwright": null,
    "Authors": "",
    "Priority P1 to P4": "P1 - Smoke Tests (App testable?)",
    "Update notes": "",
    "Rainforest": ["N/A"],
    "Team Ownership": [],
    "Manual Test Environments": ["Portal"],
    "Detox": null,
    "Cypress": null,
    "MMCTL": null,
    "Last Updated": "",
    "Tags": [],
    "Location": "Cloud"
  },
  "steps": [
    {
      "inline": {
        "description": "ECS â€” Attempt a purchase or renewal with a restricted person, company or address<br>â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“<ol><li>Create a portal account using one or more of the criteria outlined in the test data section when you create the account and on the address section of the Billing and Payment screen when attempting to purchase a license.</li><li>After verifying the account you created select a license to purchase</li><li>On the Billing and Payment screen refer to the table in the test data section that will trigger the system to block the direct sale and delivery of a Mattermost license</li><li>Validate new Shipping Address fields are shown when the â€œSame as Billing Addressâ€ checkbox is checked</li><li>Once the form is filled in completely, click the complete button to process the payment and attempt a direct license purchase</li><li>Also run through the steps to renew an existing license using the same criteria designed to trigger flags</li></ol>",
        "testData": "Descartes Visual Compliance is the tool that the Customer Portal uses to identify restricted entities.<br>Their system classifies alerts in a variety of ways:<ul><li>Yellow</li><li>Red</li><li>Double Red</li><li>Triple Red</li><li>Risk Country</li></ul><br>Use the data in the table below to trigger one or more of the different type of alerts.<br>You need to use all of the criteria shown in the table to make it work while filling in any other required field with any other information you'd like.<br><br><strong>Note</strong>: You may end up triggering a higher alert than you intended when using random other data (for example you can trigger a Red alert when using \"Federal Bureau Investigation\" with say, \"John Wayne\" due to \"Wayne\". Overall though what's important is that you observe the Customer Portal recognizing restricted entities when present.<br><table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" dir=\"ltr\" style=\"margin-right: calc(36%); width: 64%;\"><colgroup><col width=\"177\"><col width=\"177\"><col width=\"177\"><col width=\"100\"></colgroup><tbody><tr><td data-sheets-value='{\"1\":2,\"2\":\"Alert type\"}' style=\"background-color: rgb(209, 213, 216); width: 13.9253%;\">Alert type</td><td data-sheets-value='{\"1\":2,\"2\":\"Name\"}' style=\"background-color: rgb(209, 213, 216); width: 42.4258%;\">Name</td><td data-sheets-value='{\"1\":2,\"2\":\"Organization\"}' style=\"background-color: rgb(209, 213, 216);\">Organization</td><td data-sheets-value='{\"1\":2,\"2\":\"Address\"}' style=\"background-color: rgb(209, 213, 216);\">Address</td></tr><tr><td data-sheets-value='{\"1\":2,\"2\":\"Yellow\"}' style=\"width: 13.9253%;\"><strong>Yellow</strong></td><td style=\"width: 42.4258%;\"><br></td><td data-sheets-value='{\"1\":2,\"2\":\"Federal Bureau Investigation\"}'>Federal Bureau Investigation</td><td><br></td></tr><tr><td data-sheets-value='{\"1\":2,\"2\":\"Red\"}' style=\"width: 13.9253%;\"><strong>Red</strong></td><td data-sheets-value='{\"1\":2,\"2\":\"Wayne Smith\"}' style=\"width: 42.4258%;\">Wayne Smith</td><td data-sheets-value='{\"1\":2,\"2\":\"Federal Bureau Investigation\"}'>Federal Bureau Investigation</td><td><br></td></tr><tr><td data-sheets-value='{\"1\":2,\"2\":\"Double Red\"}' style=\"width: 13.9253%;\"><strong>Double Red</strong></td><td data-sheets-value='{\"1\":2,\"2\":\"Wayne Smith\"}' style=\"width: 42.4258%;\">Wayne Smith</td><td data-sheets-value='{\"1\":2,\"2\":\"Aero Systems\"}'>Aero Systems</td><td data-sheets-value='{\"1\":2,\"2\":\"Miami, FL\"}'>Miami, FL</td></tr><tr><td data-sheets-value='{\"1\":2,\"2\":\"Triple Red\"}' style=\"width: 13.9253%;\"><strong>Triple Red</strong></td><td style=\"width: 42.4258%;\"><br></td><td data-sheets-value='{\"1\":2,\"2\":\"MediaMonks B.V\"}'>MediaMonks B.V</td><td data-sheets-value='{\"1\":2,\"2\":\"127 Elizabeth St.\\nNew York, NY\"}'>127 Elizabeth St.<br>New York, NY</td></tr><tr><td data-sheets-value='{\"1\":2,\"2\":\"Risk Country\"}' style=\"width: 13.9253%;\"><strong>Risk Country</strong></td><td style=\"width: 42.4258%;\"><br></td><td><br></td><td data-sheets-value='{\"1\":2,\"2\":\"China\"}'>China</td></tr></tbody></table><br><table><tbody><tr></tr></tbody></table><table style=\"width: 51%; margin-right: calc(49%);\"><tbody><tr><td style=\"width: 33.3333%; text-align: center;\">Billing and Payment</td><td style=\"width: 33.3881%; text-align: center;\">Transaction complete</td><td style=\"width: 33.334%; text-align: center;\">License pending email</td></tr><tr><td style=\"width: 33.3333%;\"><img src=\"https://smartbear-tm4j-prod-us-west-2-attachment-rich-text.s3.us-west-2.amazonaws.com/embedded-f3277290f945470c4add5d21ef3dc7ca7b74388fc7152bfb6b99ae58c66a95a8-1617129848132-1617129848132.png\" style=\"width: 300px;\" class=\"fr-fic fr-dib\"></td><td style=\"width: 33.3881%;\"><img src=\"https://smartbear-tm4j-prod-us-west-2-attachment-rich-text.s3.us-west-2.amazonaws.com/embedded-f3277290f945470c4add5d21ef3dc7ca7b74388fc7152bfb6b99ae58c66a95a8-1617108074972-1617108074972.png\" style=\"width: 300px;\" class=\"fr-fic fr-dib\"></td><td style=\"width: 33.334%;\"><img src=\"https://smartbear-tm4j-prod-us-west-2-attachment-rich-text.s3.us-west-2.amazonaws.com/embedded-f3277290f945470c4add5d21ef3dc7ca7b74388fc7152bfb6b99ae58c66a95a8-1617108133641-1617108133641.png\" style=\"width: 300px;\" class=\"fr-fic fr-dib\"></td></tr></tbody></table><br><strong><span style=\"color: rgb(184, 49, 47);\">Tip</span></strong>: Right-click any image to view a larger version in a new tab",
        "expectedResult": "<ul><li>Instead of receiving a license directly after completing a purchase restricted entities are presented with a page telling them their license is pending as well as an email stating the same pending status</li><li>The subscription section of the portal won't list the subscription they just signed up for</li></ul>",
        "customFields": {
          "Fix Versions": [],
          "Related ticket(s)": "<a href=\"https://mattermost.atlassian.net/browse/MM-35317\">ECS - Contact Support link on license pending screen should default to \"I need to contact sales\" â€” MM-35317</a>",
          "Important notes about this step": ""
        }
      },
      "testCase": null
    }
  ],
  "caseHashed": "147a8cf6f606aaea4d9f5c8ee9bf41c898797633143104991caa773bb248266f742ddda1a0cf77f6fec63c8aef2a0d37",
  "stepsHashed": "76cc4c78b583ebe6f3fd28d1722c8d174863d4611a735cc29bb723714c4073467395006f1173e5eb4b216d12b0ee1212"
}
