---
# (Required) Ensure all values are filled up
name: "Viewing attachments with invalid URL does not cause the application to crash"
status: Active
priority: Low
folder: Incoming Webhook
authors: ""
team_ownership: 
- Integration Frameworks
priority_p1_to_p4: P4 - Low-Impact (Edge or unsuitable to repeat?)

# (Optional)
location: Integrations
component: null
tags: []
labels: 
- Hackfest
- fix-versions-not-empty-2022cleanup

# (Optional) Test type and tools
cypress: Ticket Open
detox: null
mmctl: null
playwright: null
rainforest: 
- Evaluating
manual_test_environments: 
- Webapp

# Do not change
id: 4203258
key: MM-T624
created_on: "2020-02-04T23:54:06Z"
last_updated: ""
case_hashed: 942e0fb82f0c5d13b40fc3841e372489d1caf4bfb95960e4c2b13c4576dcd5e428513a5d98c97c107c28c739241eea59
steps_hashed: 88c9c110d32207987edb957826bfaaafe3a83c513ca27574d03c60f82fe32044370ed2ab1228b7c42e9f3ca160436e87
---

<!-- (Auto-generated) Based on frontmatter's "key" and "name" -->

## MM-T624: Viewing attachments with invalid URL does not cause the application to crash

---

**Step 1**

1. Incoming Webhooks — Viewing attachments with invalid URL does not cause the application to crash\
   –––––––––––––––––––––––––

   1. Edit [the incoming webhook you created In Mattermost](https://postgres.test.mattermost.com/v16/integrations/incoming_webhooks):

      1. _Uncheck_ the box next to "Lock to this channel"
         \
         ![](https://smartbear-tm4j-prod-us-west-2-attachment-rich-text.s3.us-west-2.amazonaws.com/embedded-f3277290f945470c4add5d21ef3dc7ca7b74388fc7152bfb6b99ae58c66a95a8-1580868063861-2020-02-04_20-49-24.png)
      2. Click 'Update'
      3. Replace the existing payload text with the text shown in the test data field
      4. Send it
      5. View it on the mobile app as well as webapp

_Related ticket(s):_

[RN: Viewing a message attachment with an invalid image URL causes the app to crash — MM-14669](https://mattermost.atlassian.net/browse/MM-14669)

**Test Data**

{"channel": "off-topic", "username": "new\_username", "text": "The image below should be broken due to the invalid URL in the payload text you just sent using Postman \n", "attachments":\[{"image\_url":"https\://example.com"}], "icon\_url": "http\://www\.mattermost.org/wp-content/uploads/2016/04/icon\_WS.png"}

**Expected**

- The post can be viewed in the client without causing other issues. (The mobile app does not crash)
- The image is broken as expected (invalid URL)
