---
# (Required) Ensure all values are filled up
name: "Mattermost Enterprise and Team Edition should show a dismissable global banner with warning message when instance has active users between 500-9000"
status: Active
priority: Normal
folder: User limits
authors: "@yasserfaraazkhan"
team_ownership: 
- ICU
priority_p1_to_p4: P2 - Core Functions (Do core functions work?)

# (Optional)
location: null
component: null
tags: []
labels: []
tested_by_contributor: null

# (Optional) Test type and tools
cypress: null
detox: null
mmctl: null
playwright: null
rainforest: []
manual_test_environments: []

# Do not change
id: null
key: null
created_on: null
last_updated: null
case_hashed: null
steps_hashed: null
---

**Step 1**

Prerequisites:

1. Have 1 Free instance running Enterprise edition with 501 users.
   `/cloud create test-limits --image mattermostdevelopment/mattermost-enterprise-edition --license te`
2. Have 1 Free instance running Enterprise edition with 10 users (less 500).
3. Have 1 Free instance running Team edition with 501 users.
4. Have 1 admin account.

Steps:

**Scenario**: When user is running enterprise edition

1. Login into Free instance running Enterprise edition with 501 users.
2. Verify a Blue global banner should be displayed with a message saying `Your user count has exceeded the recommended maximum for Mattermost Free Edition. Upgrade for a more reliable and resilient service.`. There should also be a `View plans` button which opens pricing modal.
3. Navigate to System Console > Edition and License page.
4. Verify a section with header `Upgrade to Mattermost Professional or Mattermost Enterprise` is shown in blue background.
5. Add Professional/Enterprise license to the instance.
6. Verify the global banner is not showing up.

**Scenario**: When user is running enterprise edition with 10 users.

1. Login into Free instance running Enterprise edition with 10 users.
2. Verify no global banner is displayed in channel and system console page.

**Scenario**: When user is running team edition

1. Login into Free instance running Team edition with 501 users.
2. Verify a Blue global banner should be displayed with a message saying `Your user count has exceeded the recommended maximum for Mattermost Team Edition. Upgrade for a more reliable and resilient service`. There should also be a `View plans` button which opens pricing modal.
3. Navigate to System Console > Edition and License page.
4. Verify a section with header `Upgrade to Mattermost Professional or Mattermost Enterprise` is shown in blue background.
